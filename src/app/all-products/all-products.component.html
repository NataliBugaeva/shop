<div class="products">
  <div class="products-menu" (click)="toggle()">
    <img src="./assets/icons/menu.png" alt="" *ngIf="close">
    <img src="./assets/icons/close.png" alt="" *ngIf="!close">
  </div>

  <div [class]="show">
    <ng-container *ngIf="path === 'sofas'">
      <app-sofas-filter
        [(close)]="close"
        [(show)]="show"
        [products]="products"
        [(pager)]="pager"
        [(pagedItems)]="pagedItems"
        [(filteredProducts)]="filteredProducts"></app-sofas-filter>
    </ng-container>

    <ng-container *ngIf="path === 'chairs'">
      <app-chairs-filter
        [(close)]="close"
        [(show)]="show"
        [products]="products"
        [(pager)]="pager"
        [(pagedItems)]="pagedItems"
        [(filteredProducts)]="filteredProducts"></app-chairs-filter>
    </ng-container>

    <ng-container *ngIf="path === 'tables'">
      <app-tables-filter
        [(close)]="close"
        [(show)]="show"
        [products]="products"
        [(pager)]="pager"
        [(pagedItems)]="pagedItems"
        [(filteredProducts)]="filteredProducts"></app-tables-filter>
    </ng-container>

  </div>


  <div class="block-with-pagination">

    <div class="all-products" *ngIf="products">
      <app-product *ngFor="let item of pagedItems"
                   [item]="item"
                   [path]="path"></app-product>
    </div>

    <div class="pagination">
      <ul *ngIf="pager?.pages && pager?.pages.length ">
        <li [ngClass]="{disabled:pager?.currentPage === 1}">
          <a (click)="setPage(1, filteredProducts)">First</a>
        </li>
        <li [ngClass]="{disabled:pager?.currentPage === 1}">
          <a (click)="setPage(pager?.currentPage - 1, filteredProducts)">Previous</a>
        </li>
        <li *ngFor="let page of pager?.pages"
            [ngClass]="{active:pager?.currentPage === page}">
          <a (click)="setPage(page, filteredProducts)">{{page}}</a>
        </li>
        <li [ngClass]="{disabled:pager?.currentPage === pager?.totalPages}">
          <a (click)="setPage(pager?.currentPage + 1, filteredProducts)">Next</a>
        </li>
        <li [ngClass]="{disabled:pager?.currentPage === pager?.totalPages}">
          <a (click)="setPage(pager?.totalPages, filteredProducts)">Last</a>
        </li>
      </ul>
    </div>

  </div>
</div>
